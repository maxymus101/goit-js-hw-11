{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function fetchOnQuery(query) {\n  return axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        key: '49484278-b8d1b278e9cf12a9e395a9aea',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => {\n      if (response.data.hits.length === 0) {\n        return Promise.reject('No images found');\n      }\n      return response.data;\n    })\n    .catch(error => {\n      console.log('Помилка запиту :>> ', error);\n      return Promise.reject(error);\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport function renderImages(images, gallery) {\n  if (images.length === 0) {\n    gallery.innerHTML = '';\n    return;\n  }\n  const fragment = document.createDocumentFragment();\n\n  images.forEach(hit => {\n    const item = document.createElement('li');\n    item.classList.add('gallery-item');\n\n    const link = document.createElement('a');\n    link.href = hit.largeImageURL;\n    link.dataset.caption = hit.tags;\n\n    const img = document.createElement('img');\n    img.src = hit.webformatURL;\n    img.alt = hit.tags;\n\n    const stats = document.createElement('div');\n    stats.classList.add('image-stats');\n    stats.innerHTML = `\n          <div><p class=\"stat-title\">Likes</p><p class=\"stat-text\">${hit.likes}</p></div>\n          <div><p class=\"stat-title\">Views</p><p class=\"stat-text\">${hit.views}</p></div>\n          <div><p class=\"stat-title\">Comments</p><p class=\"stat-text\">${hit.comments}</p></div>\n          <div><p class=\"stat-title\">Downloads</p><p class=\"stat-text\">${hit.downloads}</p></div>\n        `;\n\n    link.appendChild(img);\n    item.appendChild(link);\n    item.appendChild(stats);\n    fragment.appendChild(item);\n  });\n  clearGallery(gallery);\n  gallery.appendChild(fragment);\n\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n}\n\nexport function clearGallery(gallery) {\n  gallery.innerHTML = '';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchOnQuery } from './js/pixabay-api';\nimport { renderImages, clearGallery } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst searchInp = document.querySelector('input[name=\"search-text\"]');\nconst submitBtn = document.querySelector('button[type=\"submit\"]');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = searchInp.value.trim();\n  if (query === '') {\n    clearGallery(gallery);\n    iziToast.error({\n      title: '',\n      titleColor: '#FFFFFF',\n      iconColor: '#fffff',\n      iconUrl: '../img/svg/wn-ic.svg',\n      messageColor: '#FFFFFF',\n      backgroundColor: '#ef4040',\n      position: 'topRight',\n      progressBar: true,\n      progressBarColor: ' #B51B1B',\n      closeOnClick: true,\n      timeout: 3500,\n      message: 'Будь ласка, заповніть поле для вводу!',\n    });\n    return;\n  }\n\n  loader.style.display = 'inline-flex';\n\n  fetchOnQuery(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        clearGallery(gallery);\n      } else {\n        renderImages(data.hits, gallery);\n      }\n    })\n    .catch(error => {\n      clearGallery(gallery);\n      iziToast.error({\n        title: '',\n        titleColor: '#FFFFFF',\n        iconColor: '#fffff',\n        iconUrl: '../img/svg/wn-ic.svg',\n        messageColor: '#FFFFFF',\n        backgroundColor: '#ef4040',\n        position: 'topRight',\n        progressBar: true,\n        progressBarColor: ' #B51B1B',\n        closeOnClick: true,\n        timeout: 3500,\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n});\n"],"names":["fetchOnQuery","query","axios","response","error","lightbox","renderImages","images","gallery","fragment","hit","item","link","img","stats","clearGallery","SimpleLightbox","form","searchInp","loader","event","iziToast","data"],"mappings":"owBAKO,SAASA,EAAaC,EAAO,CAClC,OAAOC,EACJ,IAAI,2BAA4B,CAC/B,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACF,CAAA,EACA,KAAKE,GACAA,EAAS,KAAK,KAAK,SAAW,EACzB,QAAQ,OAAO,iBAAiB,EAElCA,EAAS,IACjB,EACA,MAAMC,IACL,QAAQ,IAAI,sBAAuBA,CAAK,EACjC,QAAQ,OAAOA,CAAK,EAC5B,CACL,CCvBA,IAAIC,EAEG,SAASC,EAAaC,EAAQC,EAAS,CAC5C,GAAID,EAAO,SAAW,EAAG,CACvBC,EAAQ,UAAY,GACpB,MACJ,CACE,MAAMC,EAAW,SAAS,uBAAwB,EAElDF,EAAO,QAAQG,GAAO,CACpB,MAAMC,EAAO,SAAS,cAAc,IAAI,EACxCA,EAAK,UAAU,IAAI,cAAc,EAEjC,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOF,EAAI,cAChBE,EAAK,QAAQ,QAAUF,EAAI,KAE3B,MAAMG,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAI,aACdG,EAAI,IAAMH,EAAI,KAEd,MAAMI,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAU,IAAI,aAAa,EACjCA,EAAM,UAAY;AAAA,qEAC+CJ,EAAI,KAAK;AAAA,qEACTA,EAAI,KAAK;AAAA,wEACNA,EAAI,QAAQ;AAAA,yEACXA,EAAI,SAAS;AAAA,UAGlFE,EAAK,YAAYC,CAAG,EACpBF,EAAK,YAAYC,CAAI,EACrBD,EAAK,YAAYG,CAAK,EACtBL,EAAS,YAAYE,CAAI,CAC7B,CAAG,EACDI,EAAaP,CAAO,EACpBA,EAAQ,YAAYC,CAAQ,EAExBJ,EACFA,EAAS,QAAS,EAElBA,EAAW,IAAIW,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAEL,CAEO,SAASD,EAAaP,EAAS,CACpCA,EAAQ,UAAY,EACtB,CC/CA,MAAMS,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,2BAA2B,EAClD,SAAS,cAAc,uBAAuB,EAChE,MAAMV,EAAU,SAAS,cAAc,UAAU,EAC3CW,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,GAAS,CACvCA,EAAM,eAAgB,EACtB,MAAMnB,EAAQiB,EAAU,MAAM,KAAM,EACpC,GAAIjB,IAAU,GAAI,CAChBc,EAAaP,CAAO,EACpBa,EAAS,MAAM,CACb,MAAO,GACP,WAAY,UACZ,UAAW,SACX,QAAS,uBACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,YAAa,GACb,iBAAkB,WAClB,aAAc,GACd,QAAS,KACT,QAAS,uCACf,CAAK,EACD,MACJ,CAEEF,EAAO,MAAM,QAAU,cAEvBnB,EAAaC,CAAK,EACf,KAAKqB,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBP,EAAaP,CAAO,EAEpBF,EAAagB,EAAK,KAAMd,CAAO,CAElC,CAAA,EACA,MAAMJ,GAAS,CACdW,EAAaP,CAAO,EACpBa,EAAS,MAAM,CACb,MAAO,GACP,WAAY,UACZ,UAAW,SACX,QAAS,uBACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,YAAa,GACb,iBAAkB,WAClB,aAAc,GACd,QAAS,KACT,QACE,0EACV,CAAO,CACF,CAAA,EACA,QAAQ,IAAM,CACbF,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAAC"}